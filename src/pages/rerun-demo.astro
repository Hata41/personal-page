---
import BaseLayout from "../layouts/BaseLayout.astro";
import RerunViewer3D from "../components/RerunViewer3D";

// NOTE FOR FUTURE AGENTS: 
// The RerunViewer3D component MUST use client:only="react".
// Using client:load or default rendering will crash the Astro build
// because Rerun depends on browser-only WASM and WebGL APIs.
---

<BaseLayout 
  title="Rerun 3D Demo | Sebastian Reboul" 
  description="Interactive 3D visualization using Rerun of my research data."
>
  <div class="demo-container">
    <header style="margin-bottom: 2rem;">
      <h1>Rerun 3D Visualization Demo</h1>
      <p>
        This interactive 3D viewer displays a Rerun recording (<code>.rrd</code>) of a simulated environment. 
        You can navigate the 3D space, explore the timeline, and inspect logged entities.
      </p>
    </header>

    <div class="viewer-wrapper" style="box-shadow: 0 10px 30px rgba(0,0,0,0.3); border-radius: 12px; overflow: hidden;">
      <RerunViewer3D client:only="react" />
    </div>

    <section style="margin-top: 3rem;">
      <h2>About this Demo</h2>
      <p>
        The data shown here is loaded from <code>/data/data.rrd</code>. Rerun is a high-performance 
        visualizer for multimodal data that changes over time. This component is integrated into 
        Astro using React and WebAssembly.
      </p>
    </section>
  </div>
</BaseLayout>

<style>
  .demo-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 2rem 0;
  }
  
  h1 {
    font-size: 2.5rem;
    color: var(--primary-color, #333);
    margin-bottom: 1rem;
  }

  h2 {
    font-size: 1.8rem;
    margin-bottom: 1rem;
  }

  p {
    line-height: 1.6;
    color: #555;
  }

  code {
    background: #f4f4f4;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-size: 0.9em;
  }
</style>